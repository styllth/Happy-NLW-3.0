{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\01-Development\\\\NLW - Rocketseat\\\\NLW#3.0 - Happy\\\\packages\\\\mobile\\\\src\\\\pages\\\\OrphanagesMap.tsx\";\nimport React, { useState } from \"react\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport MapView, { Callout, Marker, PROVIDER_GOOGLE } from \"react-native-maps\";\nimport { Feather } from \"@expo/vector-icons\";\nimport mapMarker from \"../images/map-marker.png\";\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\nimport { RectButton } from \"react-native-gesture-handler\";\nimport api from \"../services/api\";\nexport default function OrphanagesMap() {\n  var _this = this;\n\n  var navigation = useNavigation();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      orphanages = _useState2[0],\n      setOrphanages = _useState2[1];\n\n  var _useState3 = useState({\n    latitude: 0,\n    longitude: 0\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      positionView = _useState4[0],\n      setPositionView = _useState4[1];\n\n  useFocusEffect(function () {\n    api.get(\"orphanages\").then(function (res) {\n      setOrphanages(res.data);\n    });\n  });\n\n  function handleNavigateToOrphanageDetails(id) {\n    navigation.navigate(\"OrphanageDetails\", {\n      id: id\n    });\n  }\n\n  function handleNavigateToCreateOrphanage() {\n    navigation.navigate(\"SelectMapPosition\");\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, React.createElement(MapView, {\n    provider: PROVIDER_GOOGLE,\n    style: styles.map,\n    initialRegion: {\n      latitude: -4.3577848,\n      longitude: -39.3139781,\n      latitudeDelta: 0.008,\n      longitudeDelta: 0.008\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, orphanages.map(function (orphanage) {\n    return React.createElement(Marker, {\n      key: orphanage.id,\n      icon: mapMarker,\n      calloutAnchor: {\n        x: 2.7,\n        y: 0.8\n      },\n      coordinate: {\n        latitude: orphanage.latitude,\n        longitude: orphanage.longitude\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, React.createElement(Callout, {\n      tooltip: true,\n      onPress: function onPress() {\n        return handleNavigateToOrphanageDetails(orphanage.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 8\n      }\n    }, React.createElement(View, {\n      style: styles.calloutContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: styles.calloutText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 10\n      }\n    }, orphanage.name))));\n  })), React.createElement(View, {\n    style: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: styles.footerText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, orphanages.length, \" orfanatos encontrados\"), React.createElement(RectButton, {\n    style: styles.createOrphanageButton,\n    onPress: handleNavigateToCreateOrphanage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, React.createElement(Feather, {\n    name: \"plus\",\n    size: 20,\n    color: \"#FFF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 6\n    }\n  }))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  map: {\n    width: Dimensions.get(\"window\").width,\n    height: Dimensions.get(\"window\").height\n  },\n  calloutContainer: {\n    width: 168,\n    height: 46,\n    paddingHorizontal: 16,\n    backgroundColor: \"rgba(255, 255, 255, 0.9)\",\n    borderRadius: 16,\n    justifyContent: \"center\"\n  },\n  calloutText: {\n    fontFamily: \"Nunito_700Bold\",\n    color: \"#0089a5\",\n    fontSize: 14\n  },\n  footer: {\n    position: \"absolute\",\n    left: 24,\n    right: 24,\n    bottom: 32,\n    backgroundColor: \"#FFF\",\n    borderRadius: 20,\n    height: 56,\n    paddingLeft: 24,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    elevation: 1\n  },\n  footerText: {\n    fontFamily: \"Nunito_700Bold\",\n    color: \"#8fa7b3\"\n  },\n  createOrphanageButton: {\n    width: 56,\n    height: 56,\n    backgroundColor: \"#15c3d6\",\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["D:/01-Development/NLW - Rocketseat/NLW#3.0 - Happy/packages/mobile/src/pages/OrphanagesMap.tsx"],"names":["React","useState","MapView","Callout","Marker","PROVIDER_GOOGLE","Feather","mapMarker","useFocusEffect","useNavigation","RectButton","api","OrphanagesMap","navigation","orphanages","setOrphanages","latitude","longitude","positionView","setPositionView","get","then","res","data","handleNavigateToOrphanageDetails","id","navigate","handleNavigateToCreateOrphanage","styles","container","map","latitudeDelta","longitudeDelta","orphanage","x","y","calloutContainer","calloutText","name","footer","footerText","length","createOrphanageButton","StyleSheet","create","flex","width","Dimensions","height","paddingHorizontal","backgroundColor","borderRadius","justifyContent","fontFamily","color","fontSize","position","left","right","bottom","paddingLeft","flexDirection","alignItems","elevation"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;AAEA,OAAOC,OAAP,IAAkBC,OAAlB,EAA2BC,MAA3B,EAAmCC,eAAnC,QAA0D,mBAA1D;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,OAAOC,SAAP;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,0BAA9C;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,OAAOC,GAAP;AASA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AACvC,MAAMC,UAAU,GAAGJ,aAAa,EAAhC;;AADuC,kBAGHR,QAAQ,CAAc,EAAd,CAHL;AAAA;AAAA,MAGhCa,UAHgC;AAAA,MAGpBC,aAHoB;;AAAA,mBAICd,QAAQ,CAAC;AAChDe,IAAAA,QAAQ,EAAE,CADsC;AAEhDC,IAAAA,SAAS,EAAE;AAFqC,GAAD,CAJT;AAAA;AAAA,MAIhCC,YAJgC;AAAA,MAIlBC,eAJkB;;AASvCX,EAAAA,cAAc,CAAC,YAAM;AACpBG,IAAAA,GAAG,CAACS,GAAJ,CAAQ,YAAR,EAAsBC,IAAtB,CAA2B,UAACC,GAAD,EAAS;AACnCP,MAAAA,aAAa,CAACO,GAAG,CAACC,IAAL,CAAb;AACA,KAFD;AAGA,GAJa,CAAd;;AAMA,WAASC,gCAAT,CAA0CC,EAA1C,EAAsD;AACrDZ,IAAAA,UAAU,CAACa,QAAX,CAAoB,kBAApB,EAAwC;AAAED,MAAAA,EAAE,EAAFA;AAAF,KAAxC;AACA;;AACD,WAASE,+BAAT,GAA2C;AAC1Cd,IAAAA,UAAU,CAACa,QAAX,CAAoB,mBAApB;AACA;;AAED,SACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEE,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,OAAD;AACC,IAAA,QAAQ,EAAExB,eADX;AAEC,IAAA,KAAK,EAAEuB,MAAM,CAACE,GAFf;AAGC,IAAA,aAAa,EAAE;AACdd,MAAAA,QAAQ,EAAE,CAAC,SADG;AAEdC,MAAAA,SAAS,EAAE,CAAC,UAFE;AAGdc,MAAAA,aAAa,EAAE,KAHD;AAIdC,MAAAA,cAAc,EAAE;AAJF,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUElB,UAAU,CAACgB,GAAX,CAAe,UAACG,SAAD,EAAe;AAC9B,WACC,oBAAC,MAAD;AACC,MAAA,GAAG,EAAEA,SAAS,CAACR,EADhB;AAEC,MAAA,IAAI,EAAElB,SAFP;AAGC,MAAA,aAAa,EAAE;AACd2B,QAAAA,CAAC,EAAE,GADW;AAEdC,QAAAA,CAAC,EAAE;AAFW,OAHhB;AAOC,MAAA,UAAU,EAAE;AACXnB,QAAAA,QAAQ,EAAEiB,SAAS,CAACjB,QADT;AAEXC,QAAAA,SAAS,EAAEgB,SAAS,CAAChB;AAFV,OAPb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYC,oBAAC,OAAD;AACC,MAAA,OAAO,MADR;AAEC,MAAA,OAAO,EAAE;AAAA,eAAMO,gCAAgC,CAACS,SAAS,CAACR,EAAX,CAAtC;AAAA,OAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIC,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEG,MAAM,CAACQ,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAER,MAAM,CAACS,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCJ,SAAS,CAACK,IAA5C,CADD,CAJD,CAZD,CADD;AAuBA,GAxBA,CAVF,CADD,EAsCC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEV,MAAM,CAACW,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEX,MAAM,CAACY,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE1B,UAAU,CAAC2B,MADb,2BADD,EAKC,oBAAC,UAAD;AACC,IAAA,KAAK,EAAEb,MAAM,CAACc,qBADf;AAEC,IAAA,OAAO,EAAEf,+BAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIC,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAC,MAAd;AAAqB,IAAA,IAAI,EAAE,EAA3B;AAA+B,IAAA,KAAK,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,CALD,CAtCD,CADD;AAqDA;AAED,IAAMC,MAAM,GAAGe,UAAU,CAACC,MAAX,CAAkB;AAChCf,EAAAA,SAAS,EAAE;AACVgB,IAAAA,IAAI,EAAE;AADI,GADqB;AAKhCf,EAAAA,GAAG,EAAE;AACJgB,IAAAA,KAAK,EAAEC,UAAU,CAAC3B,GAAX,CAAe,QAAf,EAAyB0B,KAD5B;AAEJE,IAAAA,MAAM,EAAED,UAAU,CAAC3B,GAAX,CAAe,QAAf,EAAyB4B;AAF7B,GAL2B;AAUhCZ,EAAAA,gBAAgB,EAAE;AACjBU,IAAAA,KAAK,EAAE,GADU;AAEjBE,IAAAA,MAAM,EAAE,EAFS;AAGjBC,IAAAA,iBAAiB,EAAE,EAHF;AAIjBC,IAAAA,eAAe,EAAE,0BAJA;AAKjBC,IAAAA,YAAY,EAAE,EALG;AAMjBC,IAAAA,cAAc,EAAE;AANC,GAVc;AAmBhCf,EAAAA,WAAW,EAAE;AACZgB,IAAAA,UAAU,EAAE,gBADA;AAEZC,IAAAA,KAAK,EAAE,SAFK;AAGZC,IAAAA,QAAQ,EAAE;AAHE,GAnBmB;AAyBhChB,EAAAA,MAAM,EAAE;AACPiB,IAAAA,QAAQ,EAAE,UADH;AAEPC,IAAAA,IAAI,EAAE,EAFC;AAGPC,IAAAA,KAAK,EAAE,EAHA;AAIPC,IAAAA,MAAM,EAAE,EAJD;AAMPT,IAAAA,eAAe,EAAE,MANV;AAOPC,IAAAA,YAAY,EAAE,EAPP;AAQPH,IAAAA,MAAM,EAAE,EARD;AASPY,IAAAA,WAAW,EAAE,EATN;AAWPC,IAAAA,aAAa,EAAE,KAXR;AAYPT,IAAAA,cAAc,EAAE,eAZT;AAaPU,IAAAA,UAAU,EAAE,QAbL;AAePC,IAAAA,SAAS,EAAE;AAfJ,GAzBwB;AA2ChCvB,EAAAA,UAAU,EAAE;AACXa,IAAAA,UAAU,EAAE,gBADD;AAEXC,IAAAA,KAAK,EAAE;AAFI,GA3CoB;AAgDhCZ,EAAAA,qBAAqB,EAAE;AACtBI,IAAAA,KAAK,EAAE,EADe;AAEtBE,IAAAA,MAAM,EAAE,EAFc;AAGtBE,IAAAA,eAAe,EAAE,SAHK;AAItBC,IAAAA,YAAY,EAAE,EAJQ;AAMtBC,IAAAA,cAAc,EAAE,QANM;AAOtBU,IAAAA,UAAU,EAAE;AAPU;AAhDS,CAAlB,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Dimensions, StyleSheet, Text, View } from \"react-native\";\nimport MapView, { Callout, Marker, PROVIDER_GOOGLE } from \"react-native-maps\";\nimport { Feather } from \"@expo/vector-icons\";\n\nimport mapMarker from \"../images/map-marker.png\";\nimport { useFocusEffect, useNavigation } from \"@react-navigation/native\";\nimport { RectButton } from \"react-native-gesture-handler\";\nimport api from \"../services/api\";\n\ninterface Orphanage {\n\tid: number;\n\tlatitude: number;\n\tlongitude: number;\n\tname: string;\n}\n\nexport default function OrphanagesMap() {\n\tconst navigation = useNavigation();\n\n\tconst [orphanages, setOrphanages] = useState<Orphanage[]>([]);\n\tconst [positionView, setPositionView] = useState({\n\t\tlatitude: 0,\n\t\tlongitude: 0,\n\t});\n\n\tuseFocusEffect(() => {\n\t\tapi.get(\"orphanages\").then((res) => {\n\t\t\tsetOrphanages(res.data);\n\t\t});\n\t});\n\n\tfunction handleNavigateToOrphanageDetails(id: number) {\n\t\tnavigation.navigate(\"OrphanageDetails\", { id });\n\t}\n\tfunction handleNavigateToCreateOrphanage() {\n\t\tnavigation.navigate(\"SelectMapPosition\");\n\t}\n\n\treturn (\n\t\t<View style={styles.container}>\n\t\t\t<MapView\n\t\t\t\tprovider={PROVIDER_GOOGLE}\n\t\t\t\tstyle={styles.map}\n\t\t\t\tinitialRegion={{\n\t\t\t\t\tlatitude: -4.3577848,\n\t\t\t\t\tlongitude: -39.3139781,\n\t\t\t\t\tlatitudeDelta: 0.008,\n\t\t\t\t\tlongitudeDelta: 0.008,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{orphanages.map((orphanage) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\tkey={orphanage.id}\n\t\t\t\t\t\t\ticon={mapMarker}\n\t\t\t\t\t\t\tcalloutAnchor={{\n\t\t\t\t\t\t\t\tx: 2.7,\n\t\t\t\t\t\t\t\ty: 0.8,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcoordinate={{\n\t\t\t\t\t\t\t\tlatitude: orphanage.latitude,\n\t\t\t\t\t\t\t\tlongitude: orphanage.longitude,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Callout\n\t\t\t\t\t\t\t\ttooltip\n\t\t\t\t\t\t\t\tonPress={() => handleNavigateToOrphanageDetails(orphanage.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<View style={styles.calloutContainer}>\n\t\t\t\t\t\t\t\t\t<Text style={styles.calloutText}>{orphanage.name}</Text>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t</Marker>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</MapView>\n\n\t\t\t<View style={styles.footer}>\n\t\t\t\t<Text style={styles.footerText}>\n\t\t\t\t\t{orphanages.length} orfanatos encontrados\n\t\t\t\t</Text>\n\n\t\t\t\t<RectButton\n\t\t\t\t\tstyle={styles.createOrphanageButton}\n\t\t\t\t\tonPress={handleNavigateToCreateOrphanage}\n\t\t\t\t>\n\t\t\t\t\t<Feather name=\"plus\" size={20} color=\"#FFF\" />\n\t\t\t\t</RectButton>\n\t\t\t</View>\n\t\t</View>\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflex: 1,\n\t},\n\n\tmap: {\n\t\twidth: Dimensions.get(\"window\").width,\n\t\theight: Dimensions.get(\"window\").height,\n\t},\n\n\tcalloutContainer: {\n\t\twidth: 168,\n\t\theight: 46,\n\t\tpaddingHorizontal: 16,\n\t\tbackgroundColor: \"rgba(255, 255, 255, 0.9)\",\n\t\tborderRadius: 16,\n\t\tjustifyContent: \"center\",\n\t},\n\n\tcalloutText: {\n\t\tfontFamily: \"Nunito_700Bold\",\n\t\tcolor: \"#0089a5\",\n\t\tfontSize: 14,\n\t},\n\n\tfooter: {\n\t\tposition: \"absolute\",\n\t\tleft: 24,\n\t\tright: 24,\n\t\tbottom: 32,\n\n\t\tbackgroundColor: \"#FFF\",\n\t\tborderRadius: 20,\n\t\theight: 56,\n\t\tpaddingLeft: 24,\n\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\n\t\televation: 1,\n\t},\n\n\tfooterText: {\n\t\tfontFamily: \"Nunito_700Bold\",\n\t\tcolor: \"#8fa7b3\",\n\t},\n\n\tcreateOrphanageButton: {\n\t\twidth: 56,\n\t\theight: 56,\n\t\tbackgroundColor: \"#15c3d6\",\n\t\tborderRadius: 20,\n\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n});\n"]},"metadata":{},"sourceType":"module"}